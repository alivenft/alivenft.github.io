{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LivePrice=_ref=>{let{crypto}=_ref;const[price,setPrice]=useState(null);const[priceChangePercentage,setPriceChangePercentage]=useState(null);const[color,setColor]=useState(localStorage.getItem(\"\".concat(crypto,\"PriceColor\"))||'#39FF14');const[priceClass,setPriceClass]=useState('');useEffect(()=>{const fetchPrice=async()=>{try{const response=await axios.get(\"https://api.coincap.io/v2/assets/\".concat(crypto));const newPrice=parseFloat(response.data.data.priceUsd);const newPriceChangePercentage=parseFloat(response.data.data.changePercent24Hr);if(price!==null&&newPrice!==price){const newColor=newPriceChangePercentage>0?'#39FF14':'#FF0000';setColor(newColor);localStorage.setItem(\"\".concat(crypto,\"PriceColor\"),newColor);// Trigger animation class\nsetPriceClass(newPrice>price?'price-change-up':'price-change-down');// Remove animation class after 1 second\nsetTimeout(()=>{setPriceClass('');},1000);}setPrice(newPrice);setPriceChangePercentage(newPriceChangePercentage);}catch(error){console.error('Error fetching live price:',error);}};fetchPrice();const interval=setInterval(fetchPrice,10000);return()=>clearInterval(interval);},[crypto,price]);return/*#__PURE__*/_jsxs(\"div\",{className:\"live-price-container\",style:{display:'flex',alignItems:'center',justifyContent:'center',color},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"crypto-name\",style:{fontSize:'1.4rem',margin:'0 auto'},children:crypto.toUpperCase()}),/*#__PURE__*/_jsxs(\"p\",{className:\"price \".concat(priceClass),style:{alignItems:'center',fontSize:'1.3rem',margin:'0 10px'},children:[\"$\",price!==null?price.toFixed(5):'Loading...',\" \"]}),priceChangePercentage!==null&&/*#__PURE__*/_jsxs(\"p\",{className:\"price-change\",style:{alignItems:'center',fontSize:'0.7rem',margin:'0'},children:[priceChangePercentage>0?'▲':'▼',\" (\",priceChangePercentage.toFixed(2),\"%)\"]})]});};export default LivePrice;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","LivePrice","_ref","crypto","price","setPrice","priceChangePercentage","setPriceChangePercentage","color","setColor","localStorage","getItem","concat","priceClass","setPriceClass","fetchPrice","response","get","newPrice","parseFloat","data","priceUsd","newPriceChangePercentage","changePercent24Hr","newColor","setItem","setTimeout","error","console","interval","setInterval","clearInterval","className","style","display","alignItems","justifyContent","children","fontSize","margin","toUpperCase","toFixed"],"sources":["C:/Users/EL/Documents/GitHub/alivenft.github.io/src/components/LivePrice.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst LivePrice = ({ crypto }) => {\r\n  const [price, setPrice] = useState(null);\r\n  const [priceChangePercentage, setPriceChangePercentage] = useState(null);\r\n  const [color, setColor] = useState(localStorage.getItem(`${crypto}PriceColor`) || '#39FF14');\r\n  const [priceClass, setPriceClass] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchPrice = async () => {\r\n      try {\r\n        const response = await axios.get(`https://api.coincap.io/v2/assets/${crypto}`);\r\n        const newPrice = parseFloat(response.data.data.priceUsd);\r\n        const newPriceChangePercentage = parseFloat(response.data.data.changePercent24Hr);\r\n\r\n        if (price !== null && newPrice !== price) {\r\n          const newColor = newPriceChangePercentage > 0 ? '#39FF14' : '#FF0000';\r\n          setColor(newColor);\r\n          localStorage.setItem(`${crypto}PriceColor`, newColor);\r\n\r\n          // Trigger animation class\r\n          setPriceClass(newPrice > price ? 'price-change-up' : 'price-change-down');\r\n\r\n          // Remove animation class after 1 second\r\n          setTimeout(() => {\r\n            setPriceClass('');\r\n          }, 1000);\r\n        }\r\n\r\n        setPrice(newPrice);\r\n        setPriceChangePercentage(newPriceChangePercentage);\r\n      } catch (error) {\r\n        console.error('Error fetching live price:', error);\r\n      }\r\n    };\r\n\r\n    fetchPrice();\r\n    const interval = setInterval(fetchPrice, 10000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [crypto, price]);\r\n\r\n  return (\r\n    <div className=\"live-price-container\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', color }}>\r\n      <h2 className=\"crypto-name\" style={{ fontSize: '1.4rem', margin: '0 auto' }}>\r\n        {crypto.toUpperCase()}\r\n      </h2>\r\n      <p className={`price ${priceClass}`} style={{ alignItems: 'center', fontSize: '1.3rem', margin: '0 10px' }}>\r\n        ${price !== null ? price.toFixed(5) : 'Loading...'} {/* Adjusted to show 5 decimal places */}\r\n      </p>\r\n      {priceChangePercentage !== null && (\r\n        <p className=\"price-change\" style={{ alignItems: 'center', fontSize: '0.7rem', margin: '0' }}>\r\n          {priceChangePercentage > 0 ? '▲' : '▼'} ({priceChangePercentage.toFixed(2)}%)\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LivePrice;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}