{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import CryptoChart from'./CryptoChart';import LiveBTCPrice from'./LiveBTCPrice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const intervals={'1h':'m1','24h':'h1','7d':'d1','1m':'d1','3m':'d1','1y':'d1'};const BitcoinPriceTracker=()=>{const[bitcoinData,setBitcoinData]=useState([]);const[interval,setInterval]=useState('1h');useEffect(()=>{const fetchBitcoinData=async()=>{try{const startDate=interval==='1y'?Date.now()-365*24*60*60*1000:interval==='3m'?Date.now()-90*24*60*60*1000:interval==='1m'?Date.now()-30*24*60*60*1000:interval==='7d'?Date.now()-7*24*60*60*1000:interval==='24h'?Date.now()-24*60*60*1000:Date.now()-60*60*1000;const response=await axios.get('https://api.coincap.io/v2/assets/bitcoin/history',{params:{interval:intervals[interval],start:startDate,end:Date.now()}});const formattedData=response.data.data.map(point=>[new Date(point.time).getTime(),parseFloat(point.priceUsd)]);setBitcoinData(formattedData);}catch(error){console.error('Error fetching Bitcoin data:',error);}};fetchBitcoinData();},[interval]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container text-center my-5\",children:[/*#__PURE__*/_jsx(LiveBTCPrice,{}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-group mt-4\",role:\"group\",children:Object.keys(intervals).map(key=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setInterval(key),className:\"btn btn-\".concat(interval===key?'primary':'secondary'),children:key},key))}),/*#__PURE__*/_jsx(CryptoChart,{data:bitcoinData})]});};export default BitcoinPriceTracker;","map":{"version":3,"names":["React","useState","useEffect","axios","CryptoChart","LiveBTCPrice","jsx","_jsx","jsxs","_jsxs","intervals","BitcoinPriceTracker","bitcoinData","setBitcoinData","interval","setInterval","fetchBitcoinData","startDate","Date","now","response","get","params","start","end","formattedData","data","map","point","time","getTime","parseFloat","priceUsd","error","console","className","children","role","Object","keys","key","onClick","concat"],"sources":["C:/Users/EL/Documents/GitHub/alivenft.github.io/src/components/BitcoinPriceTracker.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport CryptoChart from './CryptoChart';\r\nimport LiveBTCPrice from './LiveBTCPrice';\r\n\r\nconst intervals = {\r\n  '1h': 'm1',\r\n  '24h': 'h1',\r\n  '7d': 'd1',\r\n  '1m': 'd1',\r\n  '3m': 'd1',\r\n  '1y': 'd1',\r\n};\r\n\r\nconst BitcoinPriceTracker = () => {\r\n  const [bitcoinData, setBitcoinData] = useState([]);\r\n  const [interval, setInterval] = useState('1h');\r\n\r\n  useEffect(() => {\r\n    const fetchBitcoinData = async () => {\r\n      try {\r\n        const startDate = interval === '1y' ? Date.now() - 365 * 24 * 60 * 60 * 1000 :\r\n          interval === '3m' ? Date.now() - 90 * 24 * 60 * 60 * 1000 :\r\n          interval === '1m' ? Date.now() - 30 * 24 * 60 * 60 * 1000 : \r\n          interval === '7d' ? Date.now() - 7 * 24 * 60 * 60 * 1000 : \r\n          interval === '24h' ? Date.now() - 24 * 60 * 60 * 1000 : \r\n          Date.now() - 60 * 60 * 1000;\r\n\r\n        const response = await axios.get(\r\n          'https://api.coincap.io/v2/assets/bitcoin/history',\r\n          {\r\n            params: {\r\n              interval: intervals[interval],\r\n              start: startDate,\r\n              end: Date.now(),\r\n            },\r\n          }\r\n        );\r\n        const formattedData = response.data.data.map(point => [new Date(point.time).getTime(), parseFloat(point.priceUsd)]);\r\n        setBitcoinData(formattedData);\r\n      } catch (error) {\r\n        console.error('Error fetching Bitcoin data:', error);\r\n      }\r\n    };\r\n\r\n    fetchBitcoinData();\r\n  }, [interval]);\r\n\r\n  return (\r\n    <div className=\"container text-center my-5\">\r\n      <LiveBTCPrice />\r\n      <div className=\"btn-group mt-4\" role=\"group\">\r\n        {Object.keys(intervals).map(key => (\r\n          <button \r\n            key={key} \r\n            onClick={() => setInterval(key)} \r\n            className={`btn btn-${interval === key ? 'primary' : 'secondary'}`}\r\n          >\r\n            {key}\r\n          </button>\r\n        ))}\r\n      </div>\r\n      <CryptoChart data={bitcoinData} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BitcoinPriceTracker;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}