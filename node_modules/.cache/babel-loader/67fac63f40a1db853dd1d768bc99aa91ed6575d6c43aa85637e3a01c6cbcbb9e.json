{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LiveBTCPrice=()=>{const[price,setPrice]=useState(null);const[initialPrice,setInitialPrice]=useState(null);const[priceChangePercentage,setPriceChangePercentage]=useState(null);const[color,setColor]=useState(localStorage.getItem('btcPriceColor')||'#39FF14');useEffect(()=>{const fetchPrice=async()=>{try{const response=await axios.get('https://api.coincap.io/v2/assets/bitcoin');const newPrice=parseFloat(response.data.data.priceUsd);// Set the initial price when the component mounts\nif(initialPrice===null){setInitialPrice(newPrice);}// Calculate the price change percentage based on the initial price\nconst newPriceChangePercentage=initialPrice!==null?(newPrice-initialPrice)/initialPrice*100:null;setPrice(newPrice);// Update current price\nsetPriceChangePercentage(newPriceChangePercentage);// Update color based on the price change direction\nsetColor(newPriceChangePercentage>0?'#39FF14':'#FF0000');localStorage.setItem('btcPriceColor',newPriceChangePercentage>0?'#39FF14':'#FF0000');}catch(error){console.error('Error fetching live BTC price:',error);}};fetchPrice();const interval=setInterval(fetchPrice,10000);return()=>clearInterval(interval);},[initialPrice]);// Run effect when initialPrice changes\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"live-price-container bg-hackerBlack text-hackerGreen p-4 rounded-lg shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"live-price text-center mb-4\",style:{color:color},children:[/*#__PURE__*/_jsx(\"span\",{className:\"label font-bold mr-2\",children:\"Live BTC Price:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"price font-bold\",children:[\"$\",price?price.toFixed(2):'Loading...']}),priceChangePercentage!==null&&/*#__PURE__*/_jsxs(\"span\",{className:\"price-indicator font-bold ml-2\",style:{fontSize:'0.8rem'},children:[priceChangePercentage>0?'▲':'▼',\" (\",priceChangePercentage.toFixed(2),\"%)\"]})]})});};export default LiveBTCPrice;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","LiveBTCPrice","price","setPrice","initialPrice","setInitialPrice","priceChangePercentage","setPriceChangePercentage","color","setColor","localStorage","getItem","fetchPrice","response","get","newPrice","parseFloat","data","priceUsd","newPriceChangePercentage","setItem","error","console","interval","setInterval","clearInterval","className","children","style","toFixed","fontSize"],"sources":["C:/Users/EL/Documents/GitHub/alivenft.github.io/src/components/LiveBTCPrice.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst LiveBTCPrice = () => {\r\n  const [price, setPrice] = useState(null);\r\n  const [initialPrice, setInitialPrice] = useState(null);\r\n  const [priceChangePercentage, setPriceChangePercentage] = useState(null);\r\n  const [color, setColor] = useState(localStorage.getItem('btcPriceColor') || '#39FF14');\r\n\r\n  useEffect(() => {\r\n    const fetchPrice = async () => {\r\n      try {\r\n        const response = await axios.get('https://api.coincap.io/v2/assets/bitcoin');\r\n        const newPrice = parseFloat(response.data.data.priceUsd);\r\n\r\n        // Set the initial price when the component mounts\r\n        if (initialPrice === null) {\r\n          setInitialPrice(newPrice);\r\n        }\r\n\r\n        // Calculate the price change percentage based on the initial price\r\n        const newPriceChangePercentage =\r\n          initialPrice !== null ? ((newPrice - initialPrice) / initialPrice) * 100 : null;\r\n\r\n        setPrice(newPrice); // Update current price\r\n        setPriceChangePercentage(newPriceChangePercentage);\r\n\r\n        // Update color based on the price change direction\r\n        setColor(newPriceChangePercentage > 0 ? '#39FF14' : '#FF0000');\r\n        localStorage.setItem('btcPriceColor', newPriceChangePercentage > 0 ? '#39FF14' : '#FF0000');\r\n      } catch (error) {\r\n        console.error('Error fetching live BTC price:', error);\r\n      }\r\n    };\r\n\r\n    fetchPrice();\r\n    const interval = setInterval(fetchPrice, 10000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [initialPrice]); // Run effect when initialPrice changes\r\n\r\n  return (\r\n    <div className=\"live-price-container bg-hackerBlack text-hackerGreen p-4 rounded-lg shadow-lg\">\r\n      <div className=\"live-price text-center mb-4\" style={{ color: color }}>\r\n        <span className=\"label font-bold mr-2\">Live BTC Price:</span>\r\n        <span className=\"price font-bold\">${price ? price.toFixed(2) : 'Loading...'}</span>\r\n        {priceChangePercentage !== null && (\r\n          <span className=\"price-indicator font-bold ml-2\" style={{ fontSize: '0.8rem' }}>\r\n            {priceChangePercentage > 0 ? '▲' : '▼'} ({priceChangePercentage.toFixed(2)}%)\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LiveBTCPrice;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACU,YAAY,CAAEC,eAAe,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAACY,qBAAqB,CAAEC,wBAAwB,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CACxE,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAACgB,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,EAAI,SAAS,CAAC,CAEtFhB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAjB,KAAK,CAACkB,GAAG,CAAC,0CAA0C,CAAC,CAC5E,KAAM,CAAAC,QAAQ,CAAGC,UAAU,CAACH,QAAQ,CAACI,IAAI,CAACA,IAAI,CAACC,QAAQ,CAAC,CAExD;AACA,GAAId,YAAY,GAAK,IAAI,CAAE,CACzBC,eAAe,CAACU,QAAQ,CAAC,CAC3B,CAEA;AACA,KAAM,CAAAI,wBAAwB,CAC5Bf,YAAY,GAAK,IAAI,CAAI,CAACW,QAAQ,CAAGX,YAAY,EAAIA,YAAY,CAAI,GAAG,CAAG,IAAI,CAEjFD,QAAQ,CAACY,QAAQ,CAAC,CAAE;AACpBR,wBAAwB,CAACY,wBAAwB,CAAC,CAElD;AACAV,QAAQ,CAACU,wBAAwB,CAAG,CAAC,CAAG,SAAS,CAAG,SAAS,CAAC,CAC9DT,YAAY,CAACU,OAAO,CAAC,eAAe,CAAED,wBAAwB,CAAG,CAAC,CAAG,SAAS,CAAG,SAAS,CAAC,CAC7F,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CACxD,CACF,CAAC,CAEDT,UAAU,CAAC,CAAC,CACZ,KAAM,CAAAW,QAAQ,CAAGC,WAAW,CAACZ,UAAU,CAAE,KAAK,CAAC,CAE/C,MAAO,IAAMa,aAAa,CAACF,QAAQ,CAAC,CACtC,CAAC,CAAE,CAACnB,YAAY,CAAC,CAAC,CAAE;AAEpB,mBACEN,IAAA,QAAK4B,SAAS,CAAC,+EAA+E,CAAAC,QAAA,cAC5F3B,KAAA,QAAK0B,SAAS,CAAC,6BAA6B,CAACE,KAAK,CAAE,CAAEpB,KAAK,CAAEA,KAAM,CAAE,CAAAmB,QAAA,eACnE7B,IAAA,SAAM4B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAC,iBAAe,CAAM,CAAC,cAC7D3B,KAAA,SAAM0B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,EAAC,GAAC,CAACzB,KAAK,CAAGA,KAAK,CAAC2B,OAAO,CAAC,CAAC,CAAC,CAAG,YAAY,EAAO,CAAC,CAClFvB,qBAAqB,GAAK,IAAI,eAC7BN,KAAA,SAAM0B,SAAS,CAAC,gCAAgC,CAACE,KAAK,CAAE,CAAEE,QAAQ,CAAE,QAAS,CAAE,CAAAH,QAAA,EAC5ErB,qBAAqB,CAAG,CAAC,CAAG,GAAG,CAAG,GAAG,CAAC,IAAE,CAACA,qBAAqB,CAACuB,OAAO,CAAC,CAAC,CAAC,CAAC,IAC7E,EAAM,CACP,EACE,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA5B,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}